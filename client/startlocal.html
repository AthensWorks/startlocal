<head>
  <title>startlocal</title>
</head>

<body>
{{> page }}
</body>

<template name="post_list">
  <h1>Posts</h1>
  {{#each posts}}
    {{> post}}
  {{else}}
    No posts yet.
  {{/each}}
</template>

<!-- 
<template name="post">
  <div id="{{_id}}" class="post">
     <a href="{{url}}" target="_new">{{name}}</a>
     {{upvote_button}}
     <div class="description">
       {{description}} - {{category}}
     </div>
     {{flag_button}}
     <div class="updated_at">
       Last updated at {{updatedAt}}
     </div>
  </div>
</template>
 -->

<template name="page">
	{{#if showCreateDialog}}
	{{> createDialog}}
	{{/if}}

	<div class="span5">
		<div style="float: right">
		{{loginButtons align="right"}}
		</div>
	</div>

	<div id="header">
		<h1>StartLocal</h1>
	</div>

	<div id="outer">
		{{> postlist}}
	</div>

	{{> addButton }}
</template>

<template name="postlist">
	<div class="postlist">
		{{#each posts}}
			{{> post}}
		{{else}}
			No posts yet.
		{{/each}}
	</div>

	{{#if selected_name}}
		<div class="details">
			<div class="name">{{selected_name}}</div>
			<input type="button" class="inc" value="Give 5 points" />
		</div>
	{{else}}
		<div class="none">Click a post to select</div>
	{{/if}}
</template>

<template name="post">
	<div class="post {{selected}}">
		<span class="name">{{name}}</span>
		<span class="age">{{name}}</span>
		<span class="upvotecount">{{upvotedBy.length}}</span>
	</div>
</template>

<template name="createDialog">
	<div class="modal">
		<div class="modal-header">
			<button type="button" class="close cancel">&times;</button>
			<h3>Add Resource</h3>
		</div>
		
		<div class="modal-body">
			{{#if error}}
			<div class="alert alert-error">{{error}}</div>
			{{/if}}
			
			<label>Title</label>
			<input type="text" class="title span5">
				
				<label>Description</label>
				<textarea class="description span5"></textarea>

				<label>Link</label>
				<input type="text" class="URL span5">
				
				<label>Category</label>
				<select>
					{{#each category}}
						<option value="{{name}}">{{name}}</option>
					{{/each}}
				 </select>
		<div class="modal-footer">
			<a href="#" class="btn cancel">Cancel</a>
			<a href="#" class="btn btn-primary save">Add Resource</a>
		</div>
	</div>
	<div class="mask"> </div>
</template>

<template name="addButton">
	<div>
	<input type="button" value="New Thing!"
		class="btn btn-small add">
	</div>
</template>
